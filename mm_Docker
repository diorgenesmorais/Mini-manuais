# Instalação e execução do Docker

# First import the GPG key
 
sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 \
      --recv-keys 58118E89F3A912897C070ADBF76221572C52609D
 
# Next, point the package manager to the official Docker repository
 
sudo apt-add-repository 'deb https://apt.dockerproject.org/repo ubuntu-xenial main'
 
# Update the package database
 
sudo apt update

# Installing both packages will eliminate an unmet dependencies error when you try to install the 
# linux-image-extra-virtual by itself
 
sudo apt install linux-image-generic linux-image-extra-virtual
 
# Reboot the system so it would be running on the newly installed kernel image
 
sudo reboot

# Install Docker
 
sudo apt install docker-engine

# Run a Docker container
# This container is just a test container, and it will run and exit
 
sudo docker run hello-world

# How to search for Docker images
 
sudo docker search "linux mint"

# Run a Docker container using the official Ubuntu image
 
sudo docker run -it ubuntu bash

# Run a Docker container using the official Nginx image
 
sudo docker run -p 80:80 nginx
 
# Alternatively, you can force the container to detach by running this command
 
sudo docker run -d -p 80:80 nginx

# List all containers, running or not
 
sudo docker ps -a
 
# The output of the above commands takes this form
# CONTAINER ID      IMAGE        COMMAND              STATUS                PORTS                   NAMES
# 260c12455185        redis   "docker-entrypoint.sh"  Up 14 seconds          6379/tcp                      jolly_ride
# c43c9f709786        nginx   "nginx -g 'daemon off"  Up 2 minutes       0.0.0.0:80->80/tcp, 443/tcp   desperate_ritchie
# 0febde3715a0        ubuntu       "bash"           Exited (0) 5 minutes ago                           infallible_lalande
# 0e5e4b38037a        hello-world    "/hello"          Exited (0) 2 hours ago                             grave_jones
 
# List only running containers
 
sudo docker ps
 
# Remove a stopped container. Specify the container's id or name when removing it
# In this case, we remove the container using its name
 
sudo docker rm grave_jones
 
# To remove a running container, first stop it using its name or id
# In this case, we stop it using its id
 
sudo docker stop 260c12455185
 
# Then remove it
 
sudo docker rm 260c12455185

# Listing Docker images
 
sudo docker images
 
# Output of above command
# REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
# redis               latest              1c2ac2024e4b        6 days ago          182.9 MB
# ubuntu              latest              4ca3a192ff2a        13 days ago         128.2 MB
# nginx               latest              abf312888d13        2 weeks ago         181.5 MB
# hello-world         latest              c54a2cc56cbb        5 months ago        1.848 kB

# Delete a Docker image using its name
 
sudo docker rmi hello-world
 
# And in this case, using it id
 
sudo docker rmi 1c2ac2024e4b

# Referência: http://linuxbsdos.com/2016/12/13/how-to-install-docker-and-run-docker-containers-on-linux-mint-1818-1/

# Mapear volume no host hospedeiro
sudo docker run -d --name web_pasta -v /home/ricardo/site:/usr/local/apache2/htdocs -p 9091:80 httpd
